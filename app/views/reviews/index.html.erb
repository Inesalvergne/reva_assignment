<div class="mb-10">
  <h1 class="text-3xl mb-2">ðŸ‘‹ Welcome</h1>
  <p><%= Date.today.strftime("%a. %B %d, %Y") %></p>
</div>

<%= turbo_frame_tag :reviews do %>
  <div class="mb-4 mr-0 md:flex justify-between">
    <h1 class="text-lg">Reviews (<%= @pagy.count %>)</h1>
    <div class="hidden md:block">
      <%== pagy_nav(@pagy) if @pagy.pages > 1 %>
    </div>
  </div>

  <div class="md:flex gap-4 w-full">
    <div>
      <% if params[:company].present? %>
        <%= render "shared/components/nps", nps: @company_nps, nps_gauge_arc_lengths: @company_gauge_arc_lengths, nps_percentages: @company_percentages %>
      <% else %>
        <%= render "shared/components/nps", nps: @global_nps, nps_gauge_arc_lengths: @global_gauge_arc_lengths, nps_percentages: @global_percentages %>
      <% end %>

      <%= render "filters" %>
    </div>
    <div class="md:hidden mb-6">
      <%== pagy_nav(@pagy) if @pagy.pages > 1 %>
    </div>

    <% if @pagy.count.zero? %>
      <div class="rounded-lg shadow-sm border border-gray-200 grow-1 flex justify-center items-center">
        <p class="text-reva-black text-lg">We didn't find any reviews ðŸ¥² Please try other filters.</p>
      </div>
    <% else %>
      <%= render "table" %>
    <% end %>

  </div>
<% end %>
