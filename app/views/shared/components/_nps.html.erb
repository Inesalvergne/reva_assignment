<div class="bg-white rounded-lg shadow-sm border border-gray-200 w-full mb-4">
  <div class="bg-gray-50 p-6 text-left text-sm font-medium text-gray-500 uppercase">
    <h3>Net Promoter Score</h3>
  </div>

  <div class="p-6 flex items-start gap-6">
    <div class="relative size-32">
      <!-- SVG Gauge -->
      <svg class="size-full" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" style="transform: rotate(135deg);">
        <!-- Detractors segment -->
        <circle
          cx="18"
          cy="18"
          r="16"
          fill="none"
          class="stroke-current text-red-400"
          stroke-width="3"
          stroke-dasharray="<%= nps.gauge_arc_lengths[:detractors_arc] %> 100"
          stroke-dashoffset="0"
          stroke-linecap="">
        </circle>

        <!-- Passives segment -->
        <circle
          cx="18"
          cy="18"
          r="16"
          fill="none"
          class="stroke-current text-orange-300"
          stroke-width="3"
          stroke-dasharray="<%= nps.gauge_arc_lengths[:passives_arc]  %> 100"
          stroke-dashoffset="<%= -nps.gauge_arc_lengths[:detractors_arc] %>"
          stroke-linecap="">
        </circle>

        <!-- Promoters segment -->
        <circle
          cx="18"
          cy="18"
          r="16"
          fill="none"
          class="stroke-current text-green-400"
          stroke-width="3"
          stroke-dasharray="<%= nps.gauge_arc_lengths[:promoters_arc]  %> 100"
          stroke-dashoffset="<%= -(nps.gauge_arc_lengths[:detractors_arc]  + nps.gauge_arc_lengths[:passives_arc] ) %>"
          stroke-linecap="">
        </circle>
      </svg>

      <!-- NPS score -->
      <div class="absolute top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center">
        <div class="text-3xl font-bold text-gray-800">
          <%= nps.daily_score %>
        </div>
        <div class="text-xs text-gray-500 mt-1">NPS</div>
      </div>
    </div>

    <!-- Legend with percentages -->
    <div class="mt-3 space-y-2">
      <div class="grid grid-cols-2 gap-6">
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 rounded-full bg-green-500"></div>
          <span class="text-sm text-gray-600">Promoters</span>
        </div>

        <div>
          <span class="text-sm font-semibold text-gray-800"><%= nps.percentages[:promoters] %>%</span>
          <span class="text-xs text-gray-800">(<%= nps.promoters_count %>)</span>
        </div>
      </div>
      <div class="grid grid-cols-2 gap-6">
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 rounded-full bg-orange-300"></div>
          <span class="text-sm text-gray-600">Passives</span>
        </div>

        <div>
          <span class="text-sm font-semibold text-gray-800"><%= nps.percentages[:passives] %>%</span>
          <span class="text-xs text-gray-800">(<%= nps.passives_count %>)</span>
        </div>      </div>
      <div class="grid grid-cols-2 gap-6">
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 rounded-full bg-red-400"></div>
          <span class="text-sm text-gray-600">Detractors</span>
        </div>

        <div>
          <span class="text-sm font-semibold text-gray-800"><%= nps.percentages[:detractors] %>%</span>
          <span class="text-xs text-gray-800">(<%= nps.detractors_count %>)</span>
        </div>
      </div>
    </div>
  </div>
</div>
