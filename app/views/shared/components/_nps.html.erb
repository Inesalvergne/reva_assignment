<div class="bg-white rounded-lg shadow-sm border border-gray-200 w-full mb-4">
  <div class="bg-gray-50 p-6 text-left text-sm font-medium text-gray-500 uppercase">
    <h2>Net Promoter Score</h2>
  </div>

  <div class="py-6 px-8 flex justify-start gap-10">
    <div class="relative size-32">
      <!-- SVG Gauge -->
      <svg class="size-full" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" style="transform: rotate(135deg);">
        <!-- Detractors segment -->
        <circle
          cx="18"
          cy="18"
          r="16"
          fill="none"
          class="stroke-current text-red-400"
          stroke-width="3"
          stroke-dasharray="<%= @global_gauge_arc_lengths[:detractors_arc] %> 100"
          stroke-dashoffset="0"
          stroke-linecap="">
        </circle>

        <!-- Passives segment -->
        <circle
          cx="18"
          cy="18"
          r="16"
          fill="none"
          class="stroke-current text-orange-300"
          stroke-width="3"
          stroke-dasharray="<%= @global_gauge_arc_lengths[:passives_arc]  %> 100"
          stroke-dashoffset="<%= -@global_gauge_arc_lengths[:detractors_arc] %>"
          stroke-linecap="">
        </circle>

        <!-- Promoters segment -->
        <circle
          cx="18"
          cy="18"
          r="16"
          fill="none"
          class="stroke-current text-green-400"
          stroke-width="3"
          stroke-dasharray="<%= @global_gauge_arc_lengths[:promoters_arc]  %> 100"
          stroke-dashoffset="<%= -(@global_gauge_arc_lengths[:detractors_arc]  + @global_gauge_arc_lengths[:passives_arc] ) %>"
          stroke-linecap="">
        </circle>
      </svg>

      <!-- NPS score -->
      <div class="absolute top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center">
        <div class="text-3xl font-bold text-gray-800 dark:text-white">
          <%= @global_nps.daily_score %>
        </div>
        <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">NPS</div>
      </div>
    </div>

    <!-- Legend with percentages -->
    <div class="mt-6 space-y-2">
      <div class="flex items-center justify-between gap-6">
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 rounded-full bg-green-500"></div>
          <span class="text-sm text-gray-600 dark:text-gray-300">Promoters</span>
        </div>
        <span class="text-sm font-semibold text-gray-800 dark:text-white"><%= @global_percentages[:promoters] %>%</span>
      </div>
      <div class="flex items-center justify-between gap-6">
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 rounded-full bg-orange-300"></div>
          <span class="text-sm text-gray-600 dark:text-gray-300">Passives</span>
        </div>
        <span class="text-sm font-semibold text-gray-800 dark:text-white"><%= @global_percentages[:passives] %>%</span>
      </div>
      <div class="flex items-center justify-between gap-6">
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 rounded-full bg-red-400"></div>
          <span class="text-sm text-gray-600 dark:text-gray-300">Detractors</span>
        </div>
        <span class="text-sm font-semibold text-gray-800 dark:text-white"><%= @global_percentages[:detractors] %>%</span>
      </div>
    </div>
  </div>
</div>
